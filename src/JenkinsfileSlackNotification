@Library('slack@master') _

pipeline {
    agent any

    parameters {
        string(name: 'SLACK_HOOK', defaultValue: '')
    }

    stages {
        stage('Echo') {
            steps {
                echo 'hello World'
            }
        }
    }

    post {
        success {
            script {
                def message = "ğŸš€ğŸš€ Well Done"
                echo message
                slack.successMessage params.SLACK_HOOK
            }
        }
        failure {
            script {
                def message = "ğŸ”¥ğŸ”¥ğŸ”¥ğŸ”¥Didn't expect this from youğŸ”¥ğŸ”¥ğŸ”¥ğŸ”¥"
                echo message
                slack.failureMessage params.SLACK_HOOK
            }
        }
    }
}
